{
  "version": 3,
  "sources": ["../../lazysizes/plugins/parent-fit/ls.parent-fit.js"],
  "sourcesContent": ["(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes) {\n\t'use strict';\n\n\tif(!window.addEventListener){return;}\n\n\tvar regDescriptors = /\\s+(\\d+)(w|h)\\s+(\\d+)(w|h)/;\n\tvar regCssFit = /parent-fit[\"']*\\s*:\\s*[\"']*(contain|cover|width)/;\n\tvar regCssObject = /parent-container[\"']*\\s*:\\s*[\"']*(.+?)(?=(\\s|$|,|'|\"|;))/;\n\tvar regPicture = /^picture$/i;\n\tvar cfg = lazySizes.cfg;\n\n\tvar getCSS = function (elem){\n\t\treturn (getComputedStyle(elem, null) || {});\n\t};\n\n\tvar parentFit = {\n\n\t\tgetParent: function(element, parentSel){\n\t\t\tvar parent = element;\n\t\t\tvar parentNode = element.parentNode;\n\n\t\t\tif((!parentSel || parentSel == 'prev') && parentNode && regPicture.test(parentNode.nodeName || '')){\n\t\t\t\tparentNode = parentNode.parentNode;\n\t\t\t}\n\n\t\t\tif(parentSel != 'self'){\n\t\t\t\tif(parentSel == 'prev'){\n\t\t\t\t\tparent = element.previousElementSibling;\n\t\t\t\t} else if(parentSel && (parentNode.closest || window.jQuery)){\n\t\t\t\t\tparent = (parentNode.closest ?\n\t\t\t\t\t\t\tparentNode.closest(parentSel) :\n\t\t\t\t\t\t\tjQuery(parentNode).closest(parentSel)[0]) ||\n\t\t\t\t\t\tparentNode\n\t\t\t\t\t;\n\t\t\t\t} else {\n\t\t\t\t\tparent = parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn parent;\n\t\t},\n\n\t\tgetFit: function(element){\n\t\t\tvar tmpMatch, parentObj;\n\t\t\tvar css = getCSS(element);\n\t\t\tvar content = css.content || css.fontFamily;\n\t\t\tvar obj = {\n\t\t\t\tfit: element._lazysizesParentFit || element.getAttribute('data-parent-fit')\n\t\t\t};\n\n\t\t\tif(!obj.fit && content && (tmpMatch = content.match(regCssFit))){\n\t\t\t\tobj.fit = tmpMatch[1];\n\t\t\t}\n\n\t\t\tif(obj.fit){\n\t\t\t\tparentObj = element._lazysizesParentContainer || element.getAttribute('data-parent-container');\n\n\t\t\t\tif(!parentObj && content && (tmpMatch = content.match(regCssObject))){\n\t\t\t\t\tparentObj = tmpMatch[1];\n\t\t\t\t}\n\n\t\t\t\tobj.parent = parentFit.getParent(element, parentObj);\n\n\n\t\t\t} else {\n\t\t\t\tobj.fit = css.objectFit;\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\n\t\tgetImageRatio: function(element){\n\t\t\tvar i, srcset, media, ratio, match, width, height;\n\t\t\tvar parent = element.parentNode;\n\t\t\tvar elements = parent && regPicture.test(parent.nodeName || '') ?\n\t\t\t\t\tparent.querySelectorAll('source, img') :\n\t\t\t\t\t[element]\n\t\t\t\t;\n\n\t\t\tfor(i = 0; i < elements.length; i++){\n\t\t\t\telement = elements[i];\n\t\t\t\tsrcset = element.getAttribute(cfg.srcsetAttr) || element.getAttribute('srcset') || element.getAttribute('data-pfsrcset') || element.getAttribute('data-risrcset') || '';\n\t\t\t\tmedia = element._lsMedia || element.getAttribute('media');\n\t\t\t\tmedia = cfg.customMedia[element.getAttribute('data-media') || media] || media;\n\n\t\t\t\tif(srcset && (!media || (window.matchMedia && matchMedia(media) || {}).matches )){\n\t\t\t\t\tratio = parseFloat(element.getAttribute('data-aspectratio'));\n\n\t\t\t\t\tif (!ratio) {\n\t\t\t\t\t\tmatch = srcset.match(regDescriptors);\n\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\tif(match[2] == 'w'){\n\t\t\t\t\t\t\t\twidth = match[1];\n\t\t\t\t\t\t\t\theight = match[3];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidth = match[3];\n\t\t\t\t\t\t\t\theight = match[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidth = element.getAttribute('width');\n\t\t\t\t\t\t\theight = element.getAttribute('height');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tratio = width / height;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ratio;\n\t\t},\n\n\t\tcalculateSize: function(element, width){\n\t\t\tvar displayRatio, height, imageRatio, retWidth;\n\t\t\tvar fitObj = this.getFit(element);\n\t\t\tvar fit = fitObj.fit;\n\t\t\tvar fitElem = fitObj.parent;\n\n\t\t\tif(fit != 'width' && ((fit != 'contain' && fit != 'cover') || !(imageRatio = this.getImageRatio(element)))){\n\t\t\t\treturn width;\n\t\t\t}\n\n\t\t\tif(fitElem){\n\t\t\t\twidth = fitElem.clientWidth;\n\t\t\t} else {\n\t\t\t\tfitElem = element;\n\t\t\t}\n\n\t\t\tretWidth = width;\n\n\t\t\tif(fit == 'width'){\n\t\t\t\tretWidth = width;\n\t\t\t} else {\n\t\t\t\theight = fitElem.clientHeight;\n\n\t\t\t\tif((displayRatio =  width / height) && ((fit == 'cover' && displayRatio < imageRatio) || (fit == 'contain' && displayRatio > imageRatio))){\n\t\t\t\t\tretWidth = width * (imageRatio / displayRatio);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn retWidth;\n\t\t}\n\t};\n\n\tlazySizes.parentFit = parentFit;\n\n\tdocument.addEventListener('lazybeforesizes', function(e){\n\t\tif(e.defaultPrevented || e.detail.instance != lazySizes){return;}\n\n\t\tvar element = e.target;\n\t\te.detail.width = parentFit.calculateSize(element, e.detail.width);\n\t});\n}));\n"],
  "mappings": "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",
  "names": ["window"]
}
